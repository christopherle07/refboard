/* Custom Titlebar Styles */
.custom-titlebar {
    height: 36px;
    background: transparent !important;
    border-bottom: none;
    display: flex;
    justify-content: flex-start;
    align-items: stretch;
    padding: 0;
    user-select: none;
    -webkit-user-select: none;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1000;
    flex-shrink: 0;
    pointer-events: none;
}

/* Make titlebar children clickable */
.custom-titlebar > * {
    pointer-events: auto;
}

.titlebar-left {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
    height: auto;
    padding: 0;
    margin: 8px;
    background: transparent;
    border: none;
}

.titlebar-left .titlebar-title {
    padding: 6px 16px;
    background: var(--sidebar-bg);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid var(--border-color-hover);
    border-radius: 24px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(0, 0, 0, 0.04);
    font-size: 13px;
    color: var(--text-primary);
    font-weight: 500;
}

/* Sidebar Toggle in Custom Titlebar */
.custom-titlebar .titlebar-sidebar-toggle {
    display: flex !important;
    align-items: center;
    justify-content: center;
    width: 32px !important;
    height: 32px !important;
    position: fixed !important;
    left: 252px !important;
    top: 48px !important;
    z-index: 1001 !important;
    background: var(--sidebar-bg) !important;
    -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
    backdrop-filter: blur(20px) saturate(180%) !important;
    border: 1px solid var(--border-color-hover) !important;
    border-radius: 24px !important;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(0, 0, 0, 0.04) !important;
    cursor: pointer;
    transition: all 0.15s ease;
    margin: 0 !important;
    padding: 0 !important;
}

.custom-titlebar .titlebar-sidebar-toggle:hover {
    background: var(--bg-hover);
}

.custom-titlebar .titlebar-sidebar-toggle.active {
    background: var(--bg-tertiary);
}

.custom-titlebar .sidebar-toggle-icon {
    width: 16px;
    height: 16px;
}

/* Light theme: dark icon */
html:not([data-theme="dark"]):not([data-theme="purplexing"]) .custom-titlebar .sidebar-toggle-icon {
    filter: brightness(0) invert(0.3);
}

/* Dark theme: light icon */
html[data-theme="dark"] .custom-titlebar .sidebar-toggle-icon {
    filter: invert(1) brightness(0.9);
}

/* Purplexing theme: purple icon */
html[data-theme="purplexing"] .custom-titlebar .sidebar-toggle-icon {
    filter: brightness(0) saturate(100%) invert(71%) sepia(35%) saturate(738%) hue-rotate(207deg) brightness(93%) contrast(91%);
}

.home-btn {
    width: 36px;
    height: 100%;
    border: none;
    background: transparent;
    border-radius: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.15s ease, color 0.15s ease;
    padding: 0;
    border-right: 1px solid var(--border-color);
    color: var(--text-tertiary);
    opacity: 0.8;
}

/* Force SVG to inherit color */
.home-btn svg,
.home-btn img {
    color: inherit;
}

.home-btn:hover {
    background: var(--bg-hover);
    color: var(--text-primary);
    opacity: 1;
}

.home-btn.active {
    background: var(--bg-secondary);
    color: var(--text-primary);
    opacity: 1;
}

.home-icon {
    width: 20px;
    height: 20px;
    /* Filter to match --text-tertiary color */
    filter: brightness(0) saturate(100%) invert(42%) sepia(8%) saturate(566%) hue-rotate(162deg) brightness(95%) contrast(88%);
}

/* Titlebar right side - window controls */
.titlebar-right {
    display: flex;
    align-items: center;
    gap: 4px;
    margin-left: auto;
    margin-right: 8px;
    height: auto;
    padding: 6px 8px;
    background: var(--sidebar-bg);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid var(--border-color-hover);
    border-radius: 24px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(0, 0, 0, 0.04);
}

/* macOS-specific adjustments */
body[data-tauri-platform="macos"] .titlebar-right {
    /* Hide custom window controls on macOS (native traffic lights will show) */
    display: none;
}

body[data-tauri-platform="macos"] .titlebar-left {
    /* Add padding for macOS traffic light buttons */
    padding-left: 70px;
}

/* Old titlebar button styles - overridden by browser-homepage.css for new unified titlebar */
.custom-titlebar .titlebar-button {
    width: 46px;
    height: 100%;
    border: none;
    background: transparent;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.15s ease;
    padding: 0;
    color: var(--text-primary);
}

.custom-titlebar .titlebar-button:hover {
    background: var(--bg-hover);
}

.custom-titlebar .close-btn:hover {
    background: #e81123;
    color: white;
}

/* Button icons removed - now using SVG icons in browser-homepage.css */

/* Theme-specific adjustments */
html[data-theme="dark"] .custom-titlebar,
html[data-theme="purplexing"] .custom-titlebar {
    border-bottom-color: var(--border-color);
}
